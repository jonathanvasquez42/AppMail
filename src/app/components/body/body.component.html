
<div class="container-fluid">
  <div class="row">
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <br>
      <h2>Formulario de b√∫squeda</h2>
      <br>
      <div class="row g-5">
        
        <div class="col-md-7 col-lg-8">
          <form (ngSubmit)="buscar(f)" #f="ngForm">
            <div class="row g-3">
              <div class="col-sm-6">
                <label for="firstName" class="form-label">API KEY</label>
                <input type="text" class="form-control" id="firstName" placeholder="32b41353d80043f2afb111ace8ca2298" value="32b41353d80043f2afb111ace8ca2298" name="api_key" ngModel required>
                <div class="invalid-feedback">
                  Valid first name is required.
                </div>
              </div>
  
              <div class="col-sm-6">
                <label for="lastName" class="form-label">Listado de correo</label>
                <input class="form-control" type="file" id="formFile" name="archivo" ngModel (change)="incomingfile($event)" accept=".xls , .xlsx"  required>
                <div class="invalid-feedback">
                  Valid last name is required.
                </div>
              </div>
            </div>
          <hr class="my-4">
            <button class="w-100 btn btn-primary btn-lg" type="submit">Buscar</button>
          </form>
          <hr class="my-4">
          <div class="table-responsive">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Email consultado</th>
                  <th>Vulnerado en:</th>
                </tr>
              </thead>
              <tbody>
           <tbody *ngFor="let mail of mails; let i = index">
                <tr>
                  <td>{{mail.mailConsultado}}</td>
                  <td>{{mail.mailResultado}}</td>
                </tr>
            </tbody>
            </table>
          </div>
          <div *ngIf="cargando" class="alert alert-info text-center mt-3 animated fadeIn faster" role="alert">
            <h4 class="alert-heading">Cargando ...</h4>
            <p>
                <i class="fa fa-sync-alt fa-spin fa-2px"></i>
            </p>
            <p>
                Espere por favor.
            </p>
        </div>
        <div *ngIf="!cargando && mails.length === 0" class="alert alert-warning text-center mt-3 animated fadeIn faster" role="alert">
            <h4 class="alert-heading">No hay registros</h4>
            <p>
                <i class="fa fa-exclamation fa-2x"></i>
            </p>
        </div>
        </div>
      </div>
    </main>
  </div>
</div>